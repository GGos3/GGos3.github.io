<!DOCTYPE html>
<html lang="ko"><!--
 __  __                __                                     __
/\ \/\ \              /\ \             __                    /\ \
\ \ \_\ \   __  __    \_\ \      __   /\_\      __       ___ \ \ \/'\
 \ \  _  \ /\ \/\ \   /'_` \   /'__`\ \/\ \   /'__`\    /'___\\ \ , <
  \ \ \ \ \\ \ \_\ \ /\ \L\ \ /\  __/  \ \ \ /\ \L\.\_ /\ \__/ \ \ \\`\
   \ \_\ \_\\/`____ \\ \___,_\\ \____\ _\ \ \\ \__/.\_\\ \____\ \ \_\ \_\
    \/_/\/_/ `/___/> \\/__,_ / \/____//\ \_\ \\/__/\/_/ \/____/  \/_/\/_/
                /\___/                \ \____/
                \/__/                  \/___/

Powered by Hydejack v9.1.6 <https://hydejack.com/>
-->







<head>
  




  <meta name="robots" content="noindex">



  
    
<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>[School] 숙련기술전수-심화 1일차 | GGos3</title>
<meta name="generator" content="Jekyll v4.3.1" />
<meta property="og:title" content="[School] 숙련기술전수-심화 1일차" />
<meta name="author" content="GGos3" />
<meta property="og:locale" content="ko_KR, en_US" />
<meta name="description" content="숙련기술과정 1일차에 배운 내용들을 정리했다." />
<meta property="og:description" content="숙련기술과정 1일차에 배운 내용들을 정리했다." />
<meta property="og:site_name" content="GGos3" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-11-15T05:18:34+09:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="[School] 숙련기술전수-심화 1일차" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"GGos3"},"dateModified":"2022-12-25T19:09:52+09:00","datePublished":"2022-11-15T05:18:34+09:00","description":"숙련기술과정 1일차에 배운 내용들을 정리했다.","headline":"[School] 숙련기술전수-심화 1일차","mainEntityOfPage":{"@type":"WebPage","@id":"/school/2022-11-15-%EC%88%99%EB%A0%A8%EA%B8%B0%EC%88%A0%EC%A0%84%EC%88%98-%EC%8B%AC%ED%99%94-1%EC%9D%BC%EC%B0%A8/"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"/assets/img/ggos3-bg.png"},"name":"GGos3"},"url":"/school/2022-11-15-%EC%88%99%EB%A0%A8%EA%B8%B0%EC%88%A0%EC%A0%84%EC%88%98-%EC%8B%AC%ED%99%94-1%EC%9D%BC%EC%B0%A8/"}</script>
<!-- End Jekyll SEO tag -->


  

  



  <meta name="theme-color" content="rgb(25,55,71)">


<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta http-equiv="x-ua-compatible" content="ie=edge">

<meta name="mobile-web-app-capable" content="yes">

<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-title" content="GGos3">
<meta name="apple-mobile-web-app-status-bar-style" content="default">

<meta name="application-name" content="GGos3">

<meta name="generator" content="Hydejack v9.1.6" />


<link rel="alternate" href="/school/2022-11-15-%EC%88%99%EB%A0%A8%EA%B8%B0%EC%88%A0%EC%A0%84%EC%88%98-%EC%8B%AC%ED%99%94-1%EC%9D%BC%EC%B0%A8/" hreflang="ko-kr, en-us">

<link type="application/atom+xml" rel="alternate" href="/feed.xml" title="GGos3" />


<link rel="shortcut icon"    href="/assets/img/favicon.ico">
<link rel="apple-touch-icon" href="/assets/icons/icon-192x192.png">

<link rel="manifest" href="/assets/site.webmanifest">

<link rel="dns-prefetch" href="https://fonts.googleapis.com"><link rel="dns-prefetch" href="https://fonts.gstatic.com">



<link rel="preload" href="/assets/img/swipe.svg" as="image" id="_hrefSwipeSVG">






<script>!function(r,c){"use strict";function a(e,t,n,o){e.addEventListener?e.addEventListener(t,n,o):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}r.loadJS=function(e,t){var n=c.createElement("script"),e=(n.src=e,t&&a(n,"load",t,{once:!0}),c.scripts[0]);return e.parentNode.insertBefore(n,e),n},r._loaded=!1,r.loadJSDeferred=function(e,t){var n=c.createElement("script");function o(){r._loaded=!0,t&&a(n,"load",t,{once:!0});var e=c.scripts[0];e.parentNode.insertBefore(n,e)}return n.src=e,r._loaded?o():a(r,"load",o,{once:!0}),n},r.setRel=r.setRelStylesheet=function(e){a(c.getElementById(e),"load",function(){this.rel="stylesheet"},{once:!0})}}(window,document);
!function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this);
!function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this);
!function(w) {
  w._baseURL = '/';
  w._publicPath = '/assets/js/';
  w._noPushState = false;
  w._noDrawer = false;
  w._noNavbar = false;
  w._noToc = false;
  w._noSearch = false;
  w._search = {
    DATA_URL: '/assets/sitedata.json?no-cache',
    STORAGE_KEY: 'mini-search/',
    INDEX_KEY: 'index--2022-12-26T20:26:55+09:00',
  };
  w._clapButton = true;
}(window);</script>


<script async src="/assets/bower_components/MathJax/es5/tex-mml-chtml.js" id="_MathJax"></script>


<!--[if gt IE 8]><!---->

  




<link rel="stylesheet" href="/assets/css/hydejack-9.1.6.css" id="_stylePreload">
<link rel="stylesheet" href="/assets/icomoon/style.css" id="_iconsPreload">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab:700%7CNoto+Sans:400,400i,700,700i&display=swap" id="_fontsPreload">



  <style id="_pageStyle">

html{--accent-color: rgb(79,177,186);--accent-color-faded: rgba(79, 177, 186, 0.5);--accent-color-highlight: rgba(79, 177, 186, 0.1);--accent-color-darkened: #409ba3;--theme-color: rgb(25,55,71)}
</style>


<!--<![endif]-->




</head>

<body class="no-break-layout">
  


<hy-push-state
  id="_pushState"
  replace-selector="#_main"
  link-selector="a[href]:not([href^='/assets/']):not(.external):not(.no-push-state)"
  script-selector="script"
  duration="500"
  hashchange
>
  
  
  <div id="_navbar" class="navbar fixed-top">
  <div class="content">
    <span class="sr-only">Jump to:</span>
    <div class="nav-btn-bar">
      <a id="_menu" class="nav-btn no-hover" href="#_drawer--opened">
        <span class="sr-only">Navigation</span>
        <span class="icon-menu"></span>
      </a>
      <div class="nav-span"></div>
    </div>
  </div>
</div>
<hr class="sr-only" hidden />

  <main
  id="_main"
  class="content layout-post"
  role="main"
>
  <nav id="breadcrumbs" class="screen-only"><ul>
  
  
    <li><a href="/">home</a></li>
    
      <li>
        
          <span>/</span>
          
          
          <a href="/school/">school</a>
        
      </li>
    
      <li>
        
          <span>/</span>
          <span>2022-11-15-숙련기술전수-심화-1일차</span>
        
      </li>
    
  
</ul></nav>
  










<article id="post-school-숙련기술전수-심화-1일차" class="page post mb6" role="article">
  <header>
    <h1 class="post-title flip-project-title">
      
        [School] 숙련기술전수-심화 1일차
      
    </h1>

    <div class="post-date">
      
      <span class="ellipsis mr1">
        <time datetime="2022-11-15T05:18:34+09:00">15 Nov 2022</time> in <a href="/school/" class="flip-title">School</a> 
      </span>
      
        
          
          
          
            
            
            <span class="ellipsis" data-tippy-content="Last modified at: 25 Dec 2022">
              <span class="sr-only">Last modified at:</span>
              <span class="icon-history"></span>
              <time datetime="2022-12-25T19:09:52+09:00">2022-12-25</time>
            </span>
          
        
      
    </div>

    
    

    



  <div class="hr pb0"></div>


  </header>

  
    <p>숙련기술과정 1일차에 배운 내용들을 정리했다.</p>

<h2 id="암호학">암호학</h2>

<h3 id="대칭-키">대칭 키</h3>

<ul>
  <li>암/복호화시 키가 같음</li>
  <li>DES 3DES AES</li>
  <li>블록 암호화</li>
  <li>XOR 연산</li>
</ul>

<h3 id="비대칭-키">비대칭 키</h3>

<ul>
  <li>암/복호화 키가 서로 다름</li>
  <li>DH
    <ul>
      <li>상호 협약</li>
      <li>세션 키</li>
    </ul>
  </li>
  <li>RSA (PKR)
    <ul>
      <li>전자 서명</li>
      <li>3자 인증 기관 (CA)
        <ul>
          <li>클라이언트는 CA 목록을 가지고 있음</li>
          <li>브라우저 도구 security</li>
          <li>window
<img src="/assets/img/[School]_숙련기술전수-심화_1일차/Untitled.png" alt="Untitled" /></li>
        </ul>
      </li>
      <li>RSSid
        <ul>
          <li>인증 과정
<img src="/assets/img/[School]_숙련기술전수-심화_1일차/Untitled%201.png" alt="Untitled.png" /></li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h3 id="asa-5505">ASA 5505</h3>

<ul>
  <li>미국에서 규제를 함 러시아, 중동에 K8 판매</li>
  <li>K8 : 데이터 암호화 스텐다드</li>
  <li>K9</li>
</ul>

<hr />

<h2 id="gre-over-ipsec">GRE-over-IPSEC</h2>

<p><img src="/assets/img/[School]_숙련기술전수-심화_1일차/Untitled%202.png" alt="Untitled" /></p>

<p>Server → PC2</p>

<p>HQ 의 ip table에는 172.16.0.254/24가 없음</p>

<p>ISP에는 사설 IP 불가</p>

<p>= HQ → BR1 터널링</p>

<p>터널에 들어가면 GRE header를 붙임</p>

<p>GRE Src 2.2.2.2 Dst 3.3.3.3</p>

<p>보통 헤더길이는 24byte지만 GRE 헤더가 붙어 길이가 늘어나게 되고, mtu가 1500인 상태로 통신을 하게되면 패킷의 최대 길이인 1524byte를넘어 패킷 단편화가 발생한다.</p>

<p>이를 방지 하기 위해서는 mtu를 1467로 설정해 GRE헤더를 붙인 패킷의 단편화를 막는다</p>

<h3 id="ipsec-vpn">ipsec vpn</h3>

<ul>
  <li>유니캐스트 통신만 가능하다 = 동적 라우팅이 불가능하다.</li>
  <li>때문에 순수 ipsec vpn을 사용하지 않음</li>
  <li>1단계 : peer 인증
    <ul>
      <li>통신 대상이 맞는지 확인</li>
      <li>Encryption method
        <ul>
          <li>DES, 3DES, AES</li>
        </ul>
      </li>
      <li>Hash AL (데이터 변조 확인)
        <ul>
          <li>MD5, SHA</li>
        </ul>
      </li>
      <li>DH Group (세션 키 생성)</li>
      <li>RSSid</li>
    </ul>
  </li>
  <li>2단계 : 데이터 암호화 (실제 ipsec)
    <ul>
      <li>암호화의 범위에 따라 터널모드와 트렌스포트모드를 사용</li>
      <li>터널모드 : 헤더까지 암호화</li>
      <li>트렌스포트모드 : paylord만 암호화</li>
      <li>ESP (대칭키 필요) → 1단계에서 사용한 세션키 사용</li>
    </ul>
  </li>
</ul>

<h3 id="실습">실습</h3>

<ul>
  <li>
    <p>HQ</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">[</span>GRE Tunnel 설정]

HQ#conf t
Enter configuration commands, one per line.  End with CNTL/Z.
HQ<span class="o">(</span>config<span class="o">)</span><span class="c">#ip nat inside source static 192.168.10.1 2.2.2.2</span>
HQ<span class="o">(</span>config<span class="o">)</span><span class="c">#no ip nat inside source static 192.168.10.1 2.2.2.2</span>
HQ<span class="o">(</span>config<span class="o">)</span><span class="c">#do write</span>
HQ<span class="o">(</span>config<span class="o">)</span><span class="c">#int tun0</span>
HQ<span class="o">(</span>config-if<span class="o">)</span><span class="c">#ip addr 10.0.0.1 255.255.255.252</span>
HQ<span class="o">(</span>config-if<span class="o">)</span><span class="c">#tunnel source lo 0</span>
HQ<span class="o">(</span>config-if<span class="o">)</span><span class="c">#tunnel destination 3.3.3.3</span>
HQ<span class="o">(</span>config-if<span class="o">)</span><span class="c">#tunnel mode gre ip</span>
HQ<span class="o">(</span>config-if<span class="o">)</span><span class="c">#ip mtu 1476</span>
HQ<span class="o">(</span>config-if<span class="o">)</span><span class="c">#exit</span>
HQ<span class="o">(</span>config<span class="o">)</span><span class="c">#do show int tun0</span>
mtu 확인
HQ<span class="o">(</span>config<span class="o">)</span><span class="c">#ip route 172.16.0.0 255.255.255.0 tun0 10.0.0.2</span>
HQ<span class="o">(</span>config<span class="o">)</span><span class="c">#int tun1</span>
HQ<span class="o">(</span>config-if<span class="o">)</span><span class="c">#ip address 10.0.0.5 255.255.255.252o 0</span>
HQ<span class="o">(</span>config-if<span class="o">)</span><span class="c">#tunnel destination 4.4.4.4</span>
HQ<span class="o">(</span>config-if<span class="o">)</span><span class="c">#do show int tun1</span>
mtu 확인
HQ<span class="o">(</span>config-if<span class="o">)</span><span class="c">#exit</span>
HQ<span class="o">(</span>config<span class="o">)</span><span class="c">#ip route 172.17.0.0 255.255.255.0 tun 1 10.0.0.6</span>
HQ<span class="o">(</span>config<span class="o">)</span><span class="c">#end</span>
HQ#show ip route

<span class="o">[</span>IPSEC 설정]

HQ#conf t
HQ<span class="o">(</span>config<span class="o">)</span><span class="c">#crypto isakmp policy 10</span>
HQ<span class="o">(</span>config-isakmp<span class="o">)</span><span class="c">#encryption aes</span>
HQ<span class="o">(</span>config-isakmp<span class="o">)</span><span class="c">#hash sha</span>
HQ<span class="o">(</span>config-isakmp<span class="o">)</span><span class="c">#group 14</span>
HQ<span class="o">(</span>config-isakmp<span class="o">)</span><span class="c">#authentication pre-share</span>
HQ<span class="o">(</span>config-isakmp<span class="o">)</span><span class="c">#exit</span>
HQ<span class="o">(</span>config<span class="o">)</span><span class="c">#crypto isakmp key cisco address 100.0.0.3</span>
HQ<span class="o">(</span>config<span class="o">)</span><span class="c">#crypto ipsec transform-set TS esp-aes esp-sha-hmac</span>
HQ<span class="o">(</span>cfg-crypto-trans<span class="o">)</span><span class="c">#mode tunnel</span>
HQ<span class="o">(</span>cfg-crypto-trans<span class="o">)</span><span class="c">#exit</span>
HQ<span class="o">(</span>config<span class="o">)</span><span class="c">#ip access-list extended GRE1</span>
HQ<span class="o">(</span>config-ext-nacl<span class="o">)</span><span class="c">#permit gre host 2.2.2.2 host 3.3.3.3</span>
HQ<span class="o">(</span>config-ext-nacl<span class="o">)</span><span class="c">#exit</span>
HQ<span class="o">(</span>config<span class="o">)</span><span class="c">#crypto map IPSEC 10 ipsec-isakmp</span>
HQ<span class="o">(</span>config-crypto-map<span class="o">)</span><span class="c">#set peer 100.0.0.3</span>
HQ<span class="o">(</span>config-crypto-map<span class="o">)</span><span class="c">#set transform-set TS</span>
HQ<span class="o">(</span>config-crypto-map<span class="o">)</span><span class="c">#match address GRE1</span>
HQ<span class="o">(</span>config-crypto-map<span class="o">)</span><span class="c">#int s2/0</span>
HQ<span class="o">(</span>config-if<span class="o">)</span><span class="c">#crypto map IPSEC</span>
HQ<span class="o">(</span>config-if<span class="o">)</span><span class="c">#exit</span>
HQ<span class="o">(</span>config<span class="o">)</span><span class="c">#ip access-list extended GRE2</span>
HQ<span class="o">(</span>config-ext-nacl<span class="o">)</span><span class="c">#permit gre host 2.2.2.2 host 4.4.4.4</span>
HQ<span class="o">(</span>config-ext-nacl<span class="o">)</span><span class="c">#exit</span>
HQ<span class="o">(</span>config<span class="o">)</span><span class="c">#crypto map IPSEC 20 ipsec-isakmp</span>
HQ<span class="o">(</span>config-crypto-map<span class="o">)</span><span class="c">#set peer 100.0.0.4</span>
HQ<span class="o">(</span>config-crypto-map<span class="o">)</span><span class="c">#set transform-set TS</span>
HQ<span class="o">(</span>config-crypto-map<span class="o">)</span><span class="c">#match address GRE2</span>
HQ<span class="o">(</span>config-crypto-map<span class="o">)</span><span class="c">#end</span>
HQ#conf t
HQ<span class="o">(</span>config<span class="o">)</span><span class="c">#crypto isakmp key cisco address 100.0.0.4</span>

</code></pre></div>    </div>
  </li>
  <li>
    <p>BR1</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">[</span>터널 설정]

BR1#conf t
BR1<span class="o">(</span>config<span class="o">)</span><span class="c">#int tun 0</span>
BR1<span class="o">(</span>config-if<span class="o">)</span><span class="c">#ip address 10.0.0.2 255.255.255.252</span>
BR1<span class="o">(</span>config-if<span class="o">)</span><span class="c">#tunnel source lo 0</span>
BR1<span class="o">(</span>config-if<span class="o">)</span><span class="c">#tunnel destination 2.2.2.2</span>
<span class="o">{</span>BR1<span class="o">(</span>config-if<span class="o">)</span><span class="c">#tunnel mode gre ip</span>
BR1<span class="o">(</span>config-if<span class="o">)</span><span class="c">#ip mtu 1476} #기본값이라 굳이 설정하지 않아도 된다</span>
BR1<span class="o">(</span>config<span class="o">)</span><span class="c">#ip route 192.168.10.0 255.255.255.0 tun0 10.0.0.1</span>
BR1<span class="o">(</span>config<span class="o">)</span><span class="c">#ip route 192.168.20.0 255.255.255.0 tun0 10.0.0.1</span>
BR1<span class="o">(</span>config<span class="o">)</span><span class="c">#ip route 172.17.0.0 255.255.255.0 tun0 10.0.0.5</span>
BR1<span class="o">(</span>config<span class="o">)</span><span class="c">#ip route 10.0.0.4 255.255.255.252 tun0 10.0.0.1</span>

<span class="o">[</span>IPSEC 설정]

BR1<span class="o">(</span>config<span class="o">)</span><span class="c">#crypto isakmp policy 10</span>
BR1<span class="o">(</span>config-isakmp<span class="o">)</span><span class="c">#enc aes</span>
BR1<span class="o">(</span>config-isakmp<span class="o">)</span><span class="c">#ha sha</span>
BR1<span class="o">(</span>config-isakmp<span class="o">)</span><span class="c">#gr 14</span>
BR1<span class="o">(</span>config-isakmp<span class="o">)</span><span class="c">#authentication pre-share</span>
BR1<span class="o">(</span>config-isakmp<span class="o">)</span><span class="c">#exit</span>
BR1<span class="o">(</span>config<span class="o">)</span><span class="c">#crypto ipsec transform-set TS esp-aes esp-sha-hmac</span>
BR1<span class="o">(</span>cfg-crypto-trans<span class="o">)</span><span class="c">#exit</span>
BR1<span class="o">(</span>config<span class="o">)</span><span class="c">#crypto isakmp key cisco address 100.0.0.2</span>
BR1<span class="o">(</span>config<span class="o">)</span><span class="c">#ip access-list extended GRE1</span>
BR1<span class="o">(</span>config-ext-nacl<span class="o">)</span><span class="c">#permit gre host 3.3.3.3 host 2.2.2.2</span>
BR1<span class="o">(</span>config-ext-nacl<span class="o">)</span><span class="c">#exit</span>
BR1<span class="o">(</span>config<span class="o">)</span><span class="c">#crypto map IPSEC 10 ipsec-isakmp</span>
BR1<span class="o">(</span>config-crypto-map<span class="o">)</span><span class="c">#set peer 100.0.0.2</span>
BR1<span class="o">(</span>config-crypto-map<span class="o">)</span><span class="c">#set transform-set TS</span>
BR1<span class="o">(</span>config-crypto-map<span class="o">)</span><span class="c">#match address GRE1</span>
BR1<span class="o">(</span>config-crypto-map<span class="o">)</span><span class="c">#int s2/0</span>
BR1<span class="o">(</span>config-if<span class="o">)</span><span class="c">#crypto map IPSEC</span>

</code></pre></div>    </div>
  </li>
  <li>
    <p>BR2</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">[</span>터널 설정]

BR2#conf t
BR2<span class="o">(</span>config<span class="o">)</span><span class="c">#int tun0</span>
BR2<span class="o">(</span>config-if<span class="o">)</span><span class="c">#ip addr</span>
BR2<span class="o">(</span>config-if<span class="o">)</span><span class="c">#ip addr 10.0.0.6 255.255.255.252</span>
BR2<span class="o">(</span>config-if<span class="o">)</span><span class="c">#tunnel source lo 0</span>
BR2<span class="o">(</span>config-if<span class="o">)</span><span class="c">#tunnel destination 2.2.2.2</span>
BR2<span class="o">(</span>config-if<span class="o">)</span><span class="c">#exit</span>
BR2<span class="o">(</span>config<span class="o">)</span><span class="c">#ip route 192.168.10.0 255.255.255.0 tun0 10.0.0.5</span>
BR2<span class="o">(</span>config<span class="o">)</span><span class="c">#ip route 192.168.20.0 255.255.255.0 tun0 10.0.0.5</span>
BR2<span class="o">(</span>config<span class="o">)</span><span class="c">#ip route 172.16.0.0 255.255.255.0 tun0 10.0.0.5</span>
BR2<span class="o">(</span>config<span class="o">)</span><span class="c">#ip route 10.0.0.0 255.255.255.252 tun0 10.0.0.5</span>

<span class="o">[</span>IPSEC 설정]

BR2<span class="o">(</span>config<span class="o">)</span><span class="c">#cry</span>
BR2<span class="o">(</span>config<span class="o">)</span><span class="c">#crypto isakmp policy 10</span>
BR2<span class="o">(</span>config-isakmp<span class="o">)</span><span class="c">#encryption aes</span>
BR2<span class="o">(</span>config-isakmp<span class="o">)</span><span class="c">#ha sha</span>
BR2<span class="o">(</span>config-isakmp<span class="o">)</span><span class="c">#gr 14</span>
BR2<span class="o">(</span>config-isakmp<span class="o">)</span><span class="c">#au pre</span>
BR2<span class="o">(</span>config-isakmp<span class="o">)</span><span class="c">#exit</span>
BR2<span class="o">(</span>config<span class="o">)</span><span class="c">#crypto isakmp key cisco address 100.0.0.2</span>
BR2<span class="o">(</span>config<span class="o">)</span><span class="c">#crypto ipsec transform-set TS esp-aes esp-sha-hmac</span>
BR2<span class="o">(</span>cfg-crypto-trans<span class="o">)</span><span class="c">#exit</span>
BR2<span class="o">(</span>config<span class="o">)</span><span class="c">#ip access-list extended GRE2</span>
BR2<span class="o">(</span>config-ext-nacl<span class="o">)</span><span class="c">#permit gre host 4.4.4.4 host 2.2.2.2</span>
BR2<span class="o">(</span>config-ext-nacl<span class="o">)</span><span class="c">#exit</span>
BR2<span class="o">(</span>config<span class="o">)</span><span class="c">#crypto map IPSEC 10 ipsec-isakmp</span>
BR2<span class="o">(</span>config-crypto-map<span class="o">)</span><span class="c">#set peer 100.0.0.2</span>
BR2<span class="o">(</span>config-crypto-map<span class="o">)</span><span class="c">#set transform-set TS</span>
BR2<span class="o">(</span>config-crypto-map<span class="o">)</span><span class="c">#match address GRE2</span>
BR2<span class="o">(</span>config-crypto-map<span class="o">)</span><span class="c">#int s2/0</span>
BR2<span class="o">(</span>config-if<span class="o">)</span><span class="c">#crypto map IPSEC</span>

</code></pre></div>    </div>
  </li>
</ul>

<h3 id="gre-over-ipsec-vpn">gre over ipsec vpn</h3>

<p>시간이 없어 1일차에 진행하지 못했다.</p>

  
</article>



  <hr class="dingbat related mb6" />






  
     


  <aside class="about related mt4 mb4" role="complementary">
    
    

<div class="author mt4">
  

  
    


<img
  
    src="/assets/img/ggos3-bg.png"
    srcset="/assets/img/ggos3-bg.png 1x,/assets/img/ggos3-bg.png 2x"
    
  
  alt="GGos3"
  class="avatar"
  
  width="120"
  height="120"
  loading="lazy"
/>

  

  
  
  <h2  class="page-title hr-bottom">
    About
  </h2>

  <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit,
sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>

<p>Open <code class="language-plaintext highlighter-rouge">_data/authors.yml</code> to edit this text.</p>


  <div class="sidebar-social">
    <span class="sr-only">Social:</span>
<ul>
  
    
      



  

  
  
  
  

  

  

  <li>
    <a href="https://github.com/ggos3" title="GitHub" class="no-mark-external">
      <span class="icon-github"></span>
      <span class="sr-only">GitHub</span>
    </a>
  </li>


    
      



  

  
  
  
  

  

  

  <li>
    <a href="mailto:janpll0421@gmail.com" title="Email" class="no-mark-external">
      <span class="icon-mail"></span>
      <span class="sr-only">Email</span>
    </a>
  </li>


    
      



  

  
  
  
  

  

  

  <li>
    <a href="https://instagram.com/ggos3_" title="Instagram" class="no-mark-external">
      <span class="icon-instagram"></span>
      <span class="sr-only">Instagram</span>
    </a>
  </li>


    
  
</ul>

  </div>
</div>

  </aside>


  

  
  

  
    


  <aside class="related mb4" role="complementary">  <h2 class="hr-bottom">Related Posts</h2>  <ul class="related-posts">                  <li class="h4">  <a href="/school/2022-10-18-%EC%BB%B4%ED%93%A8%ED%84%B0%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC-%EC%8B%9C%ED%97%98-%EB%8C%80%EB%B9%84-%EC%A0%95%EB%A6%AC/" class="flip-title"><span>[School] 컴퓨터네트워크 시험 대비 정리</span></a>  <time class="faded fine" datetime="2022-10-18T04:21:19+09:00">18 Oct 2022</time></li>                        <li class="h4">  <a href="/school/2022-10-14-%EC%9E%90%EB%B0%94-%EC%8B%9C%ED%97%98-%EB%8C%80%EB%B9%84-%EC%A0%95%EB%A6%AC/" class="flip-title"><span>[School] 자바 시험 대비 정리</span></a>  <time class="faded fine" datetime="2022-10-14T20:26:33+09:00">14 Oct 2022</time></li>                        <li class="h4">  <a href="/school/2022-10-11-%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0-%EC%8B%9C%ED%97%98-%EB%8C%80%EB%B9%84-%EC%A0%95%EB%A6%AC/" class="flip-title"><span>[School] 자료구조 시험 대비 정리</span></a>  <time class="faded fine" datetime="2022-10-11T23:12:17+09:00">11 Oct 2022</time></li>            </ul></aside>

  

  
  

  
    

  


  
<footer class="content" role="contentinfo">
  <hr/>
  
    <p><small class="copyright">© 2021. All rights reserved.
</small></p>
  
  
    <p><small>Powered by <a class="external" href="https://hydejack.com/">Hydejack</a> v<span id="_version">9.1.6</span></small></p>
  <hr class="sr-only"/>
</footer>


</main>

  <hy-drawer
  id="_drawer"
  class=""
  side="left"
  threshold="10"
  noscroll
  
>
  <header id="_sidebar" class="sidebar" role="banner">
    




<div class="sidebar-bg sidebar-overlay" style="background-color:rgb(25,55,71);background-image:url(/assets/img/sidebar-bg.jpg)"></div>

    <div class="sidebar-sticky">
  <div class="sidebar-about">
    
      <a class="no-hover" href="/" tabindex="-1">
        <img src="/assets/img/ggos3-bg.png" class="avatar" alt="GGos3" width="120" height="120" loading="lazy" />
      </a>
    
    <a class="sidebar-title" href="/"><h2 class="h1">GGos3</h2></a>
    
    
      <p class="">
        GGos3의 DevBlog

      </p>
    
  </div>

  <nav class="sidebar-nav heading" role="navigation">
    <span class="sr-only">Navigation:</span>
<ul>
  
    
    
    

    
      
        <li>
          <a
            id="_navigation"
            href="/school/"
            class="sidebar-nav-item"
            
            >
            School
          </a>
        </li>
      
    
      
        <li>
          <a
            
            href="/spring/"
            class="sidebar-nav-item"
            
            >
            Spring
          </a>
        </li>
      
    
      
        <li>
          <a
            
            href="/hexo/"
            class="sidebar-nav-item"
            
            >
            Hexo
          </a>
        </li>
      
    
  
</ul>

  </nav>

  
  <div class="sidebar-social">
    <span class="sr-only">Social:</span>
<ul>
  
    
      



  

  
  
  
  

  

  

  <li>
    <a href="https://github.com/ggos3" title="GitHub" class="no-mark-external">
      <span class="icon-github"></span>
      <span class="sr-only">GitHub</span>
    </a>
  </li>


    
      



  

  
  
  
  

  

  

  <li>
    <a href="mailto:janpll0421@gmail.com" title="Email" class="no-mark-external">
      <span class="icon-mail"></span>
      <span class="sr-only">Email</span>
    </a>
  </li>


    
      



  

  
  
  
  

  

  

  <li>
    <a href="https://instagram.com/ggos3_" title="Instagram" class="no-mark-external">
      <span class="icon-instagram"></span>
      <span class="sr-only">Instagram</span>
    </a>
  </li>


    
  
</ul>

  </div>
</div>
  </header>
</hy-drawer>
<hr class="sr-only" hidden />

</hy-push-state>


  <!--[if gt IE 10]><!---->
  <script nomodule>!function(){var t,n=document.createElement("script");!("noModule"in n)&&"onbeforeload"in n&&(t=!1,document.addEventListener("beforeload",function(e){if(e.target===n)t=!0;else if(!e.target.hasAttribute("nomodule")||!t)return;e.preventDefault()},!0),n.type="module",n.src=".",document.head.appendChild(n),n.remove())}();
</script>
  <script src="/assets/js/hydejack-9.1.6.js" type="module"></script>
  <script src="/assets/js/LEGACY-hydejack-9.1.6.js" nomodule defer></script>
  

  

<!--<![endif]-->
  <!-- <script>
  document.querySelector('hy-push-state').setAttribute('prefetch', '');

  document.querySelectorAll('.sidebar a[href^="/"]').forEach(function (el) { 
    el.addEventListener('click', function (e) {
      if (el.pathname === window.location.pathname) {
        e.preventDefault();
        e.stopPropagation();
        document.querySelector('hy-drawer').close();
      }
    });
  });
</script> -->

<!--
Code for integrating CloudFlare's email protection with Hydejack's single page app loading.
-->
<script>
  document.getElementById('_pushState').addEventListener('hy-push-state-after', function (e) {
    function e(e){
      (console.error?console.error:console.log).call(console,e)
    }

    function t(e){
      return l.innerHTML='<a href="'+e.replace(/"/g,"&quot;")+'"></a>',l.childNodes[0].getAttribute("href")
    }

    function r(e,t){
      var r=e.substr(t,2);return parseInt(r,16)
    }

    function n(e,n){
      for(var o="",c=r(e,n),a=n+2;a<e.length;a+=2){
        var l=r(e,a)^c;
        o+=String.fromCharCode(l)
      }
      return t(o)
    }

    var o="/cdn-cgi/l/email-protection#",
        c=".__cf_email__",
        a="data-cfemail",
        l=document.createElement("div");

    !function(){
      for(var t=document.getElementsByTagName("a"),r=0;r<t.length;r++)
        try{
          var c=t[r],a=c.href.indexOf(o);
          a>-1&&(c.href="mailto:"+n(c.href,a+o.length))
        }catch(t){
          e(t)
        }
    }(),
    function(){
      for(var t=document.querySelectorAll(c),r=0;r<t.length;r++)
        try{
          var o=t[r],l=n(o.getAttribute(a),0),i=document.createTextNode(l);
          o.parentNode.replaceChild(i,o)
        }catch(t){
          e(t)
        }
    }()
  });
</script>





<div hidden>
  
  <h2 class="sr-only">Templates (for web app):</h2>

  <template id="_animation-template">
  <div class="animation-main fixed-top">
    <nav id="breadcrumbs" class="screen-only"><ul>
  
  
</ul></nav>
    <div class="content">
      <div class="page"></div>
    </div>
  </div>
</template>

  <template id="_loading-template">
  <div class="loading nav-btn fr">
    <span class="sr-only">Loading…</span>
    <span class="icon-cog"></span>
  </div>
</template>

  <template id="_error-template">
  <div class="page">
    <h1 class="page-title">Error</h1>
    
    
    <p class="lead">
      Sorry, an error occurred while loading <a class="this-link" href=""></a>.

    </p>
  </div>
</template>

  <template id="_permalink-template">
  <a href="#" class="permalink">
    <span class="sr-only">Permalink</span>
    <span class="content-hash"></span>
  </a>
</template>

</div>


</body>
</html>
